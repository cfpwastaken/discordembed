<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Discord Embed</title>
    <link rel="stylesheet" href="https://cfpwastaken.github.io/cfpcss/cfp.min.css">
</head>
<body>
    
    <h1>Discord Embed</h1>
    <p>Discord Embed allows normal users to send rich embeds</p>
    <p>Generator:</p>
    <form>
        <!-- Its not the best i know -->
        <input type="text" placeholder="Title" required name="title"><br>
        <textarea placeholder="Description" required name="desc"></textarea><br>
        <input type="text" placeholder="Name" name="name"><br>
        <input type="color" placeholder="Color" name="color"><br> <!-- That color field is comming soon -->
        <input type="text" placeholder="Image" name="img"><br>
        <input type="checkbox" id="bigbox" name="big"> <label for="bigbox">Big Image?</label><br>
        <input type="text" placeholder="Redirect" name="redirect"><br>

        <button type="submit" class="button-green" name="submit" value="true">Generate</button>
    </form>

    <script>
function findGetParameter(parameterName) {
    var result = null,
        tmp = [];
    location.search
        .substr(1)
        .split("&")
        .forEach(function (item) {
          tmp = item.split("=");
          if (tmp[0] === parameterName) result = decodeURIComponent(tmp[1]);
        });
    return result;
}
function addText(str) {
    const el = document.createElement('p');
  el.innerText = str;
  document.body.appendChild(el);
}
if(findGetParameter("submit")) {
    const title = findGetParameter("title").replaceAll("+", "%20");
    const desc = findGetParameter("desc").replaceAll("+", "%20");
    const name = findGetParameter("name").replaceAll("+", "%20");
    const color = findGetParameter("color").replaceAll("+", "%20").replaceAll("%23", "").replaceAll("#", "");
    const img = findGetParameter("img").replaceAll("+", "%20");
    const big = findGetParameter("big");
    if(big) big.replaceAll("on", "true");
    const redirect = findGetParameter("redirect").replaceAll("+", "%20");
    addText(window.location.protocol + "//" + window.location.host + "/embed?title=" + title + "&desc=" + desc + "&name=" + name + "&color=" + color + "&img=" + img + "&big=" + big + "&redirect=" + redirect);
}
    </script>

</body>
</html>